
CLIENT_TOOLS
============

The STOQS User Interface provides some functionality for exploring the data within a campaign.
Often more involved analisys and visualization requires a "closer intimacy" with the data.
This can be achieved by direct access to the data by scripting using Python, Django, and SQL.

The recommended environment is CentOS 6, though other Linux distributions will also work.
 

CentOS 6:
---------

Follow the instructions in the PREREQUESITES file. If your organization supports a STOQS 
database server hosting campaign databases that you plan to use then the steps for installing
PostgreSQL and PostGIS may be skipped. These additional installations are helpful for performing
data analysis and visualization:

sudo yum install tkinter
pip install shapely
pip install cython
sudo yum install geos-devel
git clone https://github.com/SciTools/cartopy.git
cd cartopy
python setup.py install




Windows 7:
----------

Note: See http://www.swegler.com/becky/blog/2011/08/27/python-django-mysql-on-windows-7-part-i-getting-started/
      for more details on installing packages on Windows.

1. Install a Python 2.6+ package that includes numpy and matplotlib. (Enthought has some free distributions.)
2. Install setuptools so that you have the easy_install.exe command installed into your python scripts directory
3. At command prompt install pip: easy_install pip
4. Install virtualenv: pip install virtualenv
5. Install Mercurial client from http://mercurial.selenic.com/downloads/
6. Clone the STOQS project into a working space on your computer, e.g. (at a new command prompt):

    cd \dev
    hg clone https://<your_google_account>@code.google.com/p/stoqs/ stoqshg 

9. Install psycopg2 for Python 2.7:

    easy_install http://www.stickpeople.com/projects/python/win-psycopg/2.5.1/psycopg2-2.5.1.win32-py2.7-pg9.2.4-release.exe

10. Install OSGeo4W for your platform from http://trac.osgeo.org/osgeo4w/

11. Install the python packages required for STOQS:

    pip install django==1.3 django-extensions django-celery

12. Copy privateSettings.template to privateSettings and edit it with locations of the databases you wish to access.
    (You may need some help from your STOQS database administrator as credentials are required for access.)

13. Test your setup:

    python manage.py shell

    At this step I get errors:
          - Problem finding a entry point TIFFUnsetField in libtiff.dll
          - django.contrib.gis.geos.error.GEOSException: Could not parse version info string "3.4.2-CAPI-1.8.2 r3921"

          After trying all morning to get this working, I really think it might be easier to run the client in a CentOS VM 
          under VirtualBox or VMWare Workstation.


--
Mike McCann
MBARI 20 November 2013

